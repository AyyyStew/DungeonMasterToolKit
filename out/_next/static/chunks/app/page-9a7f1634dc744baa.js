(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9554:function(e,t,n){Promise.resolve().then(n.bind(n,2445)),Promise.resolve().then(n.bind(n,578))},2445:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7437),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2265);let DiceRoller=()=>{let[input,setInput]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[results,setResults]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[allCollapsed,setAllCollapsed]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),[inputError,setInputError]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),rollDice=(e,t)=>{let n=[];for(let l=0;l<t;l++)n.push(Math.floor(Math.random()*e)+1);return n},evaluateExpression=expression=>{let match;let steps=[],diceRegex=/(\d+)d\(([^)]+)\)/g,modifiedExpression=expression,allRolls=[],formattedRolls=[];for(;null!==(match=diceRegex.exec(expression));){let[fullMatch,numDice,innerExpression]=match,innerResult=eval(innerExpression);steps.push("Evaluate inner expression: ".concat(innerExpression," => ").concat(innerResult));let rolls=rollDice(innerResult,Number(numDice));allRolls=allRolls.concat(rolls),formattedRolls=formattedRolls.concat(rolls.map(e=>formatRoll(e,innerResult)));let sumOfRolls=rolls.reduce((e,t)=>e+t,0);steps.push("".concat(fullMatch," => [").concat(formatRolls(rolls,innerResult),"] => ").concat(sumOfRolls)),modifiedExpression=modifiedExpression.replace(fullMatch,sumOfRolls.toString())}let finalDiceRegex=/(\d+)d(\d+)/g;for(;null!==(match=finalDiceRegex.exec(modifiedExpression));){let[fullMatch,numDice,numSides]=match,rolls=rollDice(Number(numSides),Number(numDice));allRolls=allRolls.concat(rolls),formattedRolls=formattedRolls.concat(rolls.map(e=>formatRoll(e,Number(numSides))));let sumOfRolls=rolls.reduce((e,t)=>e+t,0);steps.push("".concat(fullMatch," => [").concat(formatRolls(rolls,Number(numSides)),"] => ").concat(sumOfRolls)),modifiedExpression=modifiedExpression.replace(fullMatch,sumOfRolls.toString())}let finalResult=eval(modifiedExpression);return steps.push("Final expression: ".concat(modifiedExpression," => ").concat(finalResult)),{expression,rolls:allRolls,formattedRolls:formattedRolls,result:finalResult,steps}},formatRolls=(e,t)=>e.map(e=>formatRoll(e,t)).join(", "),formatRoll=(e,t)=>{let n=t;return 1===e?"<span class='text-red-600 font-semibold'>".concat(e,"</span>"):e===n?'<span class="text-emerald-400 font-semibold">'.concat(e,"</span>"):e.toString()};function isValidDiceExpression(e){return/^(?!\s*$)(?:(?:\d+d\d+|\d+|[\d()+\-*/%d\s])*)$/.test(e)}let validateInput=()=>""===input||null===input?(setInputError("Input cannot be empty."),!1):isValidDiceExpression(input)?(setInputError(""),!0):(setInputError("Invalid dice expression."),!1),handleRoll=()=>{validateInput()&&setResults([...results,evaluateExpression(input)])},toggleCollapse=()=>{setAllCollapsed(!allCollapsed)},handleCommonRoll=e=>{""===input?setInput(e):setInput("".concat(input," + ").concat(e)),setInputError("")},diceExpressions=["1d4","1d6","1d8","1d10","1d12","1d20","1d100"],buttonStyles=["bg-gradient-to-r from-pink-700 from-10% to-pink-500","bg-gradient-to-r from-red-700 from-10% to-red-500","bg-gradient-to-r from-yellow-700 from-10% to-yellow-500","bg-gradient-to-r from-green-700 from-10% to-green-500","bg-gradient-to-r from-blue-700 from-10% to-blue-500","bg-gradient-to-r from-indigo-700 from-10% to-indigo-500","bg-gradient-to-r from-purple-700 from-10% to-purple-500"];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:"card bg-gradient max-w-5xl p-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1",{className:"text-gradient mb-4 text-2xl font-bold",children:"Dice Roller"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-2 flex justify-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",value:input,onChange:e=>setInput(e.target.value),placeholder:"Enter dice expression (e.g., 2d8 + 4d6 * 2)",className:"input-field rounded px-4 py-2 text-center shadow"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:handleRoll,className:"duration-400 button blue-button ml-3 rounded-lg px-8 py-3 font-semibold text-white",children:"Roll"})]}),inputError&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-center text-red-500",children:inputError}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mb-4 flex justify-center space-x-2",children:diceExpressions.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>handleCommonRoll(e),className:"button ".concat(buttonStyles[t%buttonStyles.length]," rounded-lg px-4 py-2 text-white"),children:e},e))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"max-w-full overflow-x-auto",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text- mb-2 text-white",children:"Click the button to toggle calculation details"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex flex-row-reverse justify-end gap-3 pb-4 text-white shadow",children:results.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{onClick:toggleCollapse,className:"button card card w-75 card-gradient min-w-[100px] max-w-[250px] flex-none rounded-md p-4 ".concat(t===results.length-1?"selected":""),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-xl font-semibold",children:["Result: ",e.result]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"font-normal",children:["Rolls:"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{dangerouslySetInnerHTML:{__html:e.formattedRolls.join(", ")}})]}),!allCollapsed&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h2",{className:"text-lg",children:["Expression: ",e.expression]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul",{className:"mt-2 list-inside list-disc",children:e.steps.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{dangerouslySetInnerHTML:{__html:e}},t))})]})]},t))})]})]})};__webpack_exports__.default=DiceRoller},578:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var l=n(7437),s=n(2265);function a(){let[e,t]=(0,s.useState)([]),[n,l]=(0,s.useState)(""),[a,r]=(0,s.useState)(""),[i,c]=(0,s.useState)(0),[d,o]=(0,s.useState)(0),[x,u]=(0,s.useState)(0),[m,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(null),[b,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{0===e.length?g(null):b&&!e.some(e=>e.id===b)&&g(e[0].id)},[e,b]);let j=()=>{if(null!==p){let l=[...e],s=l.findIndex(e=>e.id===p);-1!==s&&(l[s]={id:p,initiative:i,name:n,notes:a,hp:d,armor:x},t(l),f(null))}else{let l={id:new Date().toISOString(),initiative:i,name:n,notes:a,hp:d,armor:x};t([...e,l]),0===e.length&&g(l.id)}l(""),c(0),r(""),o(0),u(0)},N=t=>{let n=e.find(e=>e.id===t);n&&(l(n.name),r(n.notes),c(n.initiative),o(n.hp),u(n.armor),f(t))},v=()=>{t([...e].sort((e,t)=>t.initiative-e.initiative)),h(!0)},w=n=>{let l=e.filter(e=>e.id!==n),s=e.findIndex(e=>e.id===n);t(l);let a=s+1>=e.length?null:e[s+1].id;b===n&&g(l.length>0?a:null),p===n&&f(null)},y=(n,l,s)=>{t(e.map(e=>e.id===n?{...e,[l]:"initiative"===l||"hp"===l||"armor"===l?Number(s):s}:e))},C=()=>{if(!b||0===e.length)return;let t=(e.findIndex(e=>e.id===b)+1)%e.length;g(e[t].id)},S=()=>{if(!b||0===e.length)return;let t=(e.findIndex(e=>e.id===b)-1+e.length)%e.length;g(e[t].id)};return{characters:e,name:n,notes:a,initiative:i,hp:d,armor:x,isSorted:m,editId:p,currentCharacterId:b,setName:l,setNotes:r,setInitiative:c,setHp:o,setArmor:u,handleAddCharacter:j,handleEditCharacter:N,handleSortCharacters:v,handleDeleteCharacter:w,handleChangeCharacter:y,handleNextTurn:C,handlePreviousTurn:S}}var r=e=>{let{character:t,position:n}=e;return t||(t={hp:0,armor:0,name:"Name",id:"",initiative:0,notes:""}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("span",{className:"text-xs font-semibold",children:n}),(0,l.jsxs)("div",{className:"flex items-center rounded-lg border-neutral-700 bg-neutral-800 text-white shadow-md",children:[(0,l.jsx)("div",{className:"mx-7 text-lg",children:t.name}),(0,l.jsxs)("div",{className:"card flex flex-col-reverse items-center bg-neutral-700 p-2",children:[(0,l.jsx)("span",{className:"text-xs font-semibold",children:"HP"}),(0,l.jsx)("span",{children:t.hp})]}),(0,l.jsxs)("div",{className:"card m-2 flex flex-col-reverse items-center bg-neutral-700 p-2",children:[(0,l.jsx)("span",{className:"text-xs font-semibold",children:"Armor"}),(0,l.jsx)("span",{children:t.armor})]})]})]})},i=e=>{let{character:t,isCurrent:n,editId:s,fields:a,order:r,onFieldChange:i,onDelete:c,onSubmit:d}=e;return(0,l.jsxs)("div",{className:"grid-item ".concat(n?"selected":"bg-neutral-900"),children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"card mx-1 flex max-w-[25%] flex-col items-center bg-neutral-700 p-2",children:[(0,l.jsx)("span",{className:"justify-start pb-1 text-xs font-semibold",children:"#"}),(0,l.jsx)("input",{type:"text",placeholder:"Order",value:r,readOnly:!0,className:"input-field text-center"})]}),(0,l.jsxs)("div",{className:"card mx-1 flex max-w-[25%] flex-col items-center bg-neutral-700 p-2",children:[(0,l.jsx)("span",{className:"justify-start pb-1 text-xs font-semibold",children:"Init"}),(0,l.jsx)("input",{type:"number",placeholder:"Initiative",value:a.initiative,onChange:e=>i("initiative",Number(e.target.value)),className:"input-field text-center",maxLength:2})]}),(0,l.jsxs)("div",{className:"card mx-1 flex max-w-[25%] flex-col items-center bg-neutral-700 p-2",children:[(0,l.jsx)("span",{className:"justify-start pb-1 text-xs font-semibold",children:"HP"}),(0,l.jsx)("input",{type:"number",placeholder:"HP",value:a.hp,onChange:e=>i("hp",Number(e.target.value)),className:"input-field text-center",maxLength:3})]}),(0,l.jsxs)("div",{className:"card mx-1 flex max-w-[25%] flex-col items-center bg-neutral-700 p-2",children:[(0,l.jsx)("span",{className:"justify-start pb-1 text-xs font-semibold",children:"Armor"}),(0,l.jsx)("input",{type:"number",placeholder:"Armor",value:a.armor,onChange:e=>i("armor",Number(e.target.value)),className:"input-field w-full text-center",maxLength:2})]})]}),(0,l.jsxs)("div",{className:"card mx-1 flex flex-col items-center bg-neutral-700 p-2",children:[(0,l.jsx)("span",{className:"justify-start pb-1 text-xs font-semibold",children:"Name"}),(0,l.jsx)("input",{type:"text",placeholder:"Character Name",value:a.name,onChange:e=>i("name",e.target.value),className:"input-field !text-left"})]}),(0,l.jsxs)("div",{className:"card mx-1 flex flex-col items-center bg-neutral-700 p-2",children:[(0,l.jsx)("span",{className:"justify-start pb-1 text-xs font-semibold",children:"Notes"}),(0,l.jsx)("textarea",{placeholder:"Notes",value:a.notes,rows:1,onChange:e=>i("notes",e.target.value),className:"input-field !text-left"})]}),t?(0,l.jsx)("button",{className:"button blue-button",onClick:c,children:"Delete"}):(0,l.jsx)("button",{className:"button red-button",onClick:d,children:"Add Character"})]})};function c(e,t){return{currentCharacter:e[t%e.length]||null,nextCharacter:e[(t+1)%e.length]||null,nextNextCharacter:e[(t+2)%e.length]||null}}function d(){let{characters:e,name:t,notes:n,initiative:d,hp:o,armor:x,editId:u,currentCharacterId:m,setName:h,setNotes:p,setInitiative:f,setHp:b,setArmor:g,handleAddCharacter:j,handleDeleteCharacter:N,handleSortCharacters:v,handleChangeCharacter:w}=a(),[y,C]=(0,s.useState)(1),[S,k]=(0,s.useState)(0),{currentCharacter:I,nextCharacter:_,nextNextCharacter:E}=c(e,S);function O(){e.length>0&&(0==(S+1)%e.length&&C(y+1),k(S+1))}function R(){S>0&&((S-1+e.length)%e.length==e.length-1&&C(y-1),k(S-1))}(0,s.useEffect)(()=>{e.length>0&&!m&&k(0)},[e,m]);let P=(e,t)=>{u?w(u,e,t):("name"===e&&h(t),"notes"===e&&p(t),"initiative"===e&&f(t),"hp"===e&&b(t),"armor"===e&&g(t))};return(0,l.jsxs)("div",{className:"card bg-gradient w-full max-w-5xl p-6",children:[(0,l.jsx)("h2",{className:"text-gradient mb-4 text-2xl font-semibold",children:"Initiative Tracker"}),(0,l.jsx)("section",{className:"mb-4 font-semibold text-white",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between",children:[(0,l.jsxs)("div",{children:["Round: ",y]}),(0,l.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,l.jsx)("button",{className:"button red-button px-3 py-2",onClick:R,children:"Previous Turn"}),(0,l.jsx)("button",{className:"button grey-button px-3 py-2",onClick:v,children:"Sort by Initiative"}),(0,l.jsx)("button",{className:"button blue-button px-3 py-2",onClick:O,children:"Next Turn"})]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{children:"Turn Order"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,l.jsx)("div",{children:(0,l.jsx)(r,{character:I,position:"Current"})}),(0,l.jsx)("div",{children:(0,l.jsx)(r,{character:_,position:"Next"})}),(0,l.jsx)("div",{children:(0,l.jsx)(r,{character:E,position:"On Deck"})})]})]})]})}),(0,l.jsx)("div",{className:"text-white",children:(0,l.jsx)("h4",{children:"Add Characters"})}),e.map((e,t)=>(0,l.jsx)(i,{character:e,isCurrent:e.id===(null==I?void 0:I.id),fields:{name:e.name,notes:e.notes,initiative:e.initiative,hp:e.hp,armor:e.armor},order:t+1,onFieldChange:(t,n)=>w(e.id,t,n),onDelete:()=>N(e.id),onSubmit:()=>null},e.id)),(0,l.jsx)(i,{editId:u,fields:{name:t,notes:n,initiative:d,hp:o,armor:x},order:e.length+1,onFieldChange:P,onSubmit:j})]})}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[971,23,744],function(){return t(9554)}),_N_E=e.O()}]);